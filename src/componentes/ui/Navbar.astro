---
import Boton from './boton.astro';
import MobileMenu from './MobileMenu.tsx';
import { siteConfig } from '../../data/siteConfig';

// Obtener la ruta actual para la navegación activa
const currentPath = Astro.url.pathname;

// Preparar items del menú con estado activo
const navItems = siteConfig.navigation.map(item => ({
  ...item,
  isActive: currentPath === item.href
}));
---

<!-- Navbar sticky -->
<nav class="sticky top-0 z-50 bg-white shadow-md">
  <div class="container mx-auto px-4">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo (izquierda) -->
      <div class="shrink-0">
        <a href="/" class="logo-container group flex items-center space-x-3">
          <img
            src="/Imagenes/Logo.webp"
            alt="Transporte y Turismo Antioquia S.A.S"
            class="logo-img logo-shadow h-10 w-auto object-contain"
          />
          <div class="hidden lg:block">
            <h1 class="text-primary font-[Poppins] text-xl font-bold">Transporte y Turismo Antioquia S.A.S</h1>
          </div>
        </a>
      </div>

      <!-- Menú Desktop (centrado) -->
      <div class="hidden items-center space-x-8 md:flex">
        {navItems.filter(item => item.href !== '/contacto').map(item => (
          <a
            href={item.href}
            class={`${item.isActive ? 'text-primary font-bold border-b-2 border-primary' : 'text-dark hover:text-primary'} font-[Poppins] font-medium transition-colors duration-200`}
          >
            {item.name}
          </a>
        ))}
      </div>

      <!-- Botón de acción (derecha) -->
      <div class="hidden md:block">
        <Boton texto="Cotizar Ahora" variante="primario" href="/cotizar" />
      </div>

      <!-- Botón menú hamburguesa (móvil) - Ahora con React -->
      <div class="md:hidden">
        <MobileMenu items={navItems} client:load />
      </div>
    </div>

    <!-- El menú móvil ahora está manejado por el componente React MobileMenu -->
  </div>
</nav>
