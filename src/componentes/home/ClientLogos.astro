---
// ClientLogos - Sección para mostrar empresas que confían en nosotros con carrusel continuo
import { Image } from 'astro:assets';
import alcaldiaRioNegro from '../../assets/index/clientes/alcaldia-rio-negro copia.webp';
import donMatias from '../../assets/index/clientes/don-matias.webp';
import fundacionPascual from '../../assets/index/clientes/fundacion-pascual copia.webp';
import cliente1 from '../../assets/index/clientes/Recurso 1 copia.webp';
import universidadAntioquia from '../../assets/index/clientes/UNIVERSIDAD DE ANTIOQUIA copia.webp';

const logos = [
  { src: alcaldiaRioNegro, alt: 'Alcaldía Rio Negro' },
  { src: donMatias, alt: 'Don Matías' },
  { src: fundacionPascual, alt: 'Fundación Pascual' },
  { src: cliente1, alt: 'Cliente' },
  { src: universidadAntioquia, alt: 'Universidad de Antioquia' },
];
---

<section class="bg-light py-16">
  <div class="container mx-auto px-4">
    <!-- Título pequeño -->
    <h3 class="mb-12 text-center text-sm font-semibold tracking-wide text-gray-700 uppercase">
      Empresas que confían en nosotros
    </h3>

    <!-- Carrusel continuo -->
    <div class="relative overflow-hidden rounded-2xl">
      <!-- Contenedor del carrusel con efecto de máscara -->
      <div class="carousel-container relative h-56">
        <div class="carousel-track flex gap-8 animate-scroll">
          {logos.map((logo) => (
            <div class="carousel-item flex min-w-[400px] shrink-0 items-center justify-center">
              <div class="flex h-40 w-80 items-center justify-center rounded-xl bg-white p-2 shadow-md transition-all duration-300 hover:shadow-lg hover:scale-105">
                <Image
                  src={logo.src}
                  alt={logo.alt}
                  class="h-24 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity duration-300"
                  width={400}
                />
              </div>
            </div>
          ))}
          {/* Duplicar los logos para efecto continuo */}
          {logos.map((logo) => (
            <div class="carousel-item flex min-w-[400px] shrink-0 items-center justify-center">
              <div class="flex h-40 w-80 items-center justify-center rounded-xl bg-white p-2 shadow-md transition-all duration-300 hover:shadow-lg hover:scale-105">
                <Image
                  src={logo.src}
                  alt={logo.alt}
                  class="h-24 w-auto object-contain opacity-70 hover:opacity-100 transition-opacity duration-300"
                  width={400}
                />
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Gradientes de desvanecimiento en los lados -->
      <div class="pointer-events-none absolute inset-y-0 left-0 w-20 bg-linear-to-r from-light to-transparent"></div>
      <div class="pointer-events-none absolute inset-y-0 right-0 w-20 bg-linear-to-l from-light to-transparent"></div>
    </div>
  </div>
</section>

<style>
  .carousel-container {
    overflow: hidden;
    mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
  }

  .carousel-track {
    animation: scroll 30s linear infinite;
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  /* Pausa en hover */
  .carousel-container:hover .carousel-track {
    animation-play-state: paused;
  }
</style>
